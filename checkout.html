<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout</title>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; }
  h1 { color: #e67e22; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { padding: 12px; border-bottom: 1px solid #ccc; text-align: left; }
  th { background-color: #f9f9f9; }
  .total { font-weight: bold; font-size: 1.2em; margin-top: 20px; }
  .btn { padding: 12px 20px; margin: 10px 10px 0 0; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; color: #fff; }
  .btn-card { background-color: #3498db; }
  .btn-transfer { background-color: #2ecc71; }
</style>
</head>
<body>
<h1>Checkout</h1>
<div id="cartTableContainer"></div>
<p class="total" id="cartTotalDisplay"></p>

<!-- Payment buttons -->
<div>
  <button class="btn btn-card" onclick="payCard()">Pay with Card</button>
  <button class="btn btn-transfer" onclick="payTransfer()">Pay with Transfer</button>
</div>

<script>
const USD_TO_NGN = 1470;

// Retrieve cart from localStorage
let cart = JSON.parse(localStorage.getItem('cartItems')) || [];

// Display cart items
if(cart.length === 0){
  document.getElementById('cartTableContainer').innerHTML = "<p>Your cart is empty.</p>";
} else {
  let total = 0;
  let tableHTML = '<table><tr><th>Product</th><th>Price (USD)</th><th>Price (â‚¦)</th></tr>';
  
  cart.forEach(item => {
    const priceNgn = item.price * USD_TO_NGN;
    total += priceNgn;
    tableHTML += `<tr>
      <td>${item.name}</td>
      <td>$${item.price.toFixed(2)}</td>
      <td>â‚¦${priceNgn.toLocaleString()}</td>
    </tr>`;
  });
  
  tableHTML += '</table>';
  document.getElementById('cartTableContainer').innerHTML = tableHTML;
  document.getElementById('cartTotalDisplay').innerText = `Total Amount: â‚¦${total.toLocaleString()} (${cart.length} item${cart.length>1?'s':''}) 
  CongratulationsðŸŽ‰ you qualified. You are among the first hundred persons to order on Amazon Africa. Youre only paying 10percent of this order. 
  Amount payable=â‚¦${Math.ceil((10/100)*(total)).toLocaleString()}`;
}

// Payment button functions
function payCard(){
  window.location.href="card_payment.html"
}

function payTransfer(){
  window.location.href = 'transfer.html';
}
</script>
</body>
</html>
